<dialog>
  <form>
    <div id="ctrl">
      <input type="button" id="ctrl__close" value="Close">

      <span id="ctrl__size" title="Input length: current/max">?/?</span>

      <label>Ver:
	<input id="type_num" type="number" min="0" max="40" value="0" required
	       title="Use 0 if unsure">
      </label>

      <label>Error correction:
	<select id="corr_lev">
	  <option value="L" selected>L, 7%</option>
	  <option value="M">M, 15%</option>
	  <option value="Q">Q, 25%</option>
	  <option value="H">H, 30%</option>
	</select>
      </label>

      <label>Mode:
	<select id="mode">
	  <option value="Numeric">Numeric</option>
	  <option value="Alphanumeric">Alphanumeric</option>
	  <option value="Byte" selected>Byte</option>
	  <option value="Kanji">Kanji</option>
	</select>
      </label>

      <label>Enc:
	<select id="multibyte">
	  <option value="default">None</option>
	  <option value="SJIS">SJIS</option>
	  <option value="UTF-8" selected>UTF8</option>
	</select>
      </label>
    </div>

    <textarea id="input" spellcheck="false" required></textarea>
    <input type="submit" style="display: none;">
  </form>

  <div id="output"></div>
</dialog>

<style>
  * {
    color: #191919;
  }

  option[selected] {
    font-weight: bold;
  }

  dialog {
    --gutter: 5px;
    --border: 1px;
    --dlg_h: calc(85vh - var(--border)*3);
    --ctrl_h: 2em;
    --input_h: 4em;
    --form_h: calc(var(--ctrl_h) + var(--input_h));
    --output_h: calc(var(--dlg_h) - var(--form_h) - var(--gutter));

    font-family: sans-serif;
    height: var(--dlg_h);
    padding: var(--gutter);

    border: var(--border) solid lightgray;
    border-radius: 3px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.6);
  }

  dialog::backdrop {
    background: rgba(0, 0, 0, 0.5);
  }

  form {
    margin: 0;
    height: var(--form_h);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  #ctrl {
    height: var(--ctrl_h);
  }

  #input {
    height: var(--input_h);
    resize: none;
  }

  #output {
    margin-top: var(--gutter);
    /* outline: 1px solid red; */
    height: var(--output_h);
  }
  #output img {
    display: block;
    margin: 0 auto;
    height: var(--output_h);
    opacity: 0.9;
  }
</style>
