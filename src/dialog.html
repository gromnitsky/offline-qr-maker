<dialog>
  <div>
    <form>
      <div id="ctrl">
	<input type="button" id="ctrl__close" value="Close">
	
	<span>
	  <span id="ctrl__size-cur">?</span>/<span id="ctrl__size-max">?</span>
	</span>

	<label for="type_num">Type number:</label>
	<input name="type_num" type="number"
	       min="0" max="40" value="0" required
	       title="Use 0 if unsure">

	<label for="corr_lev">Error correction:</label>
	<select name="corr_lev">
	  <option value="L" selected>L, 7%</option>
	  <option value="M">M, 15%</option>
	  <option value="Q">Q, 25%</option>
	  <option value="H">H, 30%</option>
	</select>
	
	<label for="mode">Mode:</label>
	<select name="mode">
	  <option value="Numeric">Numeric</option>
	  <option value="Alphanumeric">Alphanumeric</option>
	  <option value="Byte" selected>Byte</option>
	  <option value="Kanji">Kanji</option>
	</select>

	<label for="multibyte">Multibyte:</label>
	<select name="multibyte">
	  <option value="default">None</option>
	  <option value="SJIS">SJIS</option>
	  <option value="UTF-8" selected=>UTF-8</option>
	</select>
      </div>

      <textarea id="input" spellcheck="false" required></textarea>
      <input type="submit" style="display: none">
    </form>

    <div id="output"></div>
  </div>
</dialog>

<style>
  * {
    box-sizing: border-box;
  }
  
  dialog {
    --gutter: 5px;
    --dlg_h: 100vh;
    --ctrl_h: 2em;
    --input_h: 4em;
    --form_h: calc(var(--ctrl_h) + var(--input_h));
    --output_h: calc(var(--dlg_h) - var(--form_h) - var(--gutter)*3);
    
    font-family: sans-serif;
    height: var(--dlg_h);
    padding: var(--gutter);
    border-top: 0;
    border-bottom: 0;
  }

  dialog::backdrop {
    background: rgba(0, 0, 0, 0.5);
  }

  form {
    margin: 0;
    height: var(--form_h);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  
  #ctrl {
    height: var(--ctrl_h);
  }
  
  #input {
    height: var(--input_h);
    resize: none;
  }

  #output {
    margin-top: var(--gutter);
    /* outline: 1px solid red; */
    height: var(--output_h);
  }
  #output img {
    display: block;
    margin: 0 auto;
    height: var(--output_h);
  }
</style>
